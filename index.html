<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>OGS â€“ Through the years</title>
    <script src="main.js" type="module" defer></script>
    <style>
      .loading a {
        font-style: italic;
      }
    </style>
  </head>

  <body></body>

  <template id="template:app/groups">
    <template data-iterate="rounds">
      <section>
        <h2>Round <span data-text="roundNumber"></span></h2>

        <ul>
          <template data-iterate="groups">
            <li>
              <table class="player-list">
                <thead>
                  <tr>
                    <th>Player</th>
                    <th>Points</th>
                  </tr>
                </thead>

                <tbody>
                  <template data-iterate="players">
                    <tr class="player loading" data-dataset="playerId:playerId">
                      <td>
                        <a
                          data-props="href:playerHref"
                          data-text="username"
                        ></a>
                      </td>
                      <td data-text="points"></td>
                    </tr>
                  </template>
                </tbody>
              </table>
            </li>
          </template>
        </ul>
      </section>
    </template>
  </template>

  <template id="template:app/player-group">
    <template data-iterate="rounds">
      <section>
        <h2>Round <span data-text="roundNumber"></span></h2>

        <ul>
          <template data-iterate="players">
            <li>
              <template data-await="fetchingPlayer">
                <article>
                  <h3>
                    <a data-props="href:playerHref" data-text="username"></a>
                  </h3>

                  <table>
                    <thead>
                      <tr>
                        <th>Color</th>
                        <th>Opponent</th>
                        <th>Result (Move)</th>
                      </tr>
                    </thead>

                    <tbody>
                      <template data-iterate="games">
                        <tr>
                          <template data-await="fetchingGame">
                            <td data-text="color"></td>

                            <td>
                              <a
                                data-props="href:opponentHref"
                                data-text="opponent"
                              ></a>
                            </td>

                            <td>
                              <a
                                data-props="href:gameHref"
                                data-text="result"
                              ></a>
                            </td>
                          </template>
                        </tr>
                      </template>
                    </tbody>
                  </table>
                </article>
              </template>
            </li>
          </template>
        </ul>
      </section>
    </template>
  </template>
</html>
